I"å<h2 id="ì œë„¤ë¦­-í•¨ìˆ˜-í˜¹ì€-ë©”ì„œë“œ">ì œë„¤ë¦­ í•¨ìˆ˜ í˜¹ì€ ë©”ì„œë“œ</h2>
<ul>
  <li>í•´ë‹¹ í•¨ìˆ˜ë‚˜ ë©”ì„œë“œ ì•ìª½ì— <T>ì™€ ê°™ì´ ì§€ì •</T></li>
  <li>ìë£Œí˜•ì˜ ê²°ì •ì€ í•¨ìˆ˜ê°€ í˜¸ì¶œë  ë•Œ ì»´íŒŒì¼ëŸ¬ê°€ ìë£Œí˜• ì¶”ë¡ </li>
  <li>ì´ ìë£Œí˜•ì€ ë°˜í™˜ ìë£Œí˜•ê³¼ ë§¤ê°œë³€ìˆ˜ ìë£Œí˜•ì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>fun &lt;í˜•ì‹ ë§¤ê°œë³€ìˆ˜[, ...]&gt; í•¨ìˆ˜ëª…(ë§¤ê°œë³€ìˆ˜: &lt;ë§¤ê°œë³€ìˆ˜ ìë£Œí˜•&gt;[, ...]): &lt;ë°˜í™˜ ìë£Œí˜•&gt;
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nx">fun</span> <span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="nx">genericFunc</span><span class="p">(</span><span class="nx">arg</span><span class="p">:</span> <span class="nx">T</span><span class="p">):</span> <span class="nx">T</span><span class="p">?</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span> <span class="c1">// ë§¤ê°œë³€ìˆ˜ì™€ ë°˜í™˜ ìë£Œí˜•ì— í˜•ì‹ ë§¤ê°œë³€ìˆ˜ Tê°€ ì‚¬ìš©ëœë‹¤.</span>

<span class="nx">fun</span> <span class="o">&lt;</span><span class="nx">K</span><span class="p">,</span> <span class="nx">V</span><span class="o">&gt;</span> <span class="nx">put</span><span class="p">(</span><span class="nx">key</span><span class="p">:</span> <span class="nx">K</span><span class="p">,</span> <span class="nx">value</span><span class="p">:</span> <span class="nx">V</span><span class="p">):</span> <span class="nx">Unit</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span> <span class="c1">// í˜•ì‹ ë§¤ê°œë³€ìˆ˜ê°€ ì—¬ëŸ¬ ê°œì¸ ê²½ìš°</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ì˜ˆì‹œ</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="nx">fun</span> <span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="nx">find</span><span class="p">(</span><span class="nx">a</span><span class="p">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">,</span> <span class="nx">Target</span><span class="p">:</span> <span class="nx">T</span><span class="p">):</span> <span class="nx">Int</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="k">in</span> <span class="nx">a</span><span class="p">.</span><span class="nx">indices</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">==</span> <span class="nx">Target</span><span class="p">)</span> <span class="k">return</span> <span class="nx">i</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
<span class="p">}</span>

<span class="nx">fun</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">val</span> <span class="nx">arr1</span><span class="p">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="nb">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">arrayOf</span><span class="p">(</span><span class="dl">"</span><span class="s2">Apple</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Banana</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Cherry</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Durian</span><span class="dl">"</span><span class="p">)</span>
    <span class="nx">val</span> <span class="nx">arr2</span><span class="p">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="nx">Int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">arrayOf</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

    <span class="nx">println</span><span class="p">(</span><span class="dl">"</span><span class="s2">arr.indices ${arr1.indices}</span><span class="dl">"</span><span class="p">)</span> <span class="c1">// indicesëŠ” ë°°ì—´ì˜ ìœ íš¨ ë²”ìœ„ ë°˜í™˜  return =&gt; arr.indices 0..3</span>
    <span class="nx">println</span><span class="p">(</span><span class="nx">find</span><span class="o">&lt;</span><span class="nb">String</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">arr1</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Cherry</span><span class="dl">"</span><span class="p">))</span> <span class="c1">// ìš”ì†Œ Cì˜ ì¸ë±ìŠ¤ ì°¾ì•„ë‚´ê¸°  return =&gt; 2</span>
    <span class="nx">println</span><span class="p">(</span><span class="nx">find</span><span class="p">(</span><span class="nx">arr2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="c1">// ìš”ì†Œì˜ ì¸ë±ìŠ¤ ì°¾ì•„ë‚´ê¸° return =&gt; 1</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>í˜•ì‹ ë§¤ê°œë³€ìˆ˜ë¡œ ì„ ì–¸ëœ í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ì—°ì‚°í•˜ê³ ì í•˜ë©´ ëŒë‹¤ì‹ì„ ì‚¬ìš©í•´ì•¼í•œë‹¤.</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nx">fun</span> <span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="nx">add</span><span class="p">(</span><span class="nx">a</span><span class="p">:</span> <span class="nx">T</span><span class="p">,</span> <span class="nx">b</span><span class="p">:</span> <span class="nx">T</span><span class="p">):</span> <span class="nx">T</span> <span class="p">{</span>
    <span class="c1">// return a + b // ì˜¤ë¥˜! ìë£Œí˜•ì„ ì•„ì§ ê²°ì •í•  ìˆ˜ ì—†ë‹¤.</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="nx">fun</span> <span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="nx">add</span><span class="p">(</span><span class="nx">a</span><span class="p">:</span> <span class="nx">T</span><span class="p">,</span> <span class="nx">b</span><span class="p">:</span> <span class="nx">T</span><span class="p">,</span> <span class="nx">op</span><span class="p">:</span> <span class="p">(</span><span class="nx">T</span><span class="p">,</span> <span class="nx">T</span><span class="p">)</span><span class="o">-&gt;</span> <span class="nx">T</span><span class="p">):</span> <span class="nx">T</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">op</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>
<span class="p">}</span>
<span class="nx">fun</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">val</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">add</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">{</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="o">-&gt;</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">})</span>
    <span class="nx">val</span> <span class="nx">result2</span> <span class="o">=</span> <span class="nx">add</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="o">-&gt;</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">}</span> <span class="nx">ì™€</span> <span class="nx">ê°™ì´</span> <span class="nx">í‘œí˜„</span> <span class="nx">ê°€ëŠ¥</span>
    <span class="nx">println</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>í˜•ì‹ ë§¤ê°œë³€ìˆ˜ë¥¼ íŠ¹ì •í•œ ìë£Œí˜•ìœ¼ë¡œ ì œí•œ</p>
<ul>
  <li>ìë£Œí˜•ì˜ ì‚¬ìš©ë²”ìœ„ë¥¼ ì¢íˆê¸° ìœ„í•´ ìë£Œí˜•ì„ ì œí•œí•œë‹¤.</li>
  <li>ìë°”ì—ì„œëŠ” extendsë‚˜ superë¥¼ ì‚¬ìš©í•´ ìë£Œí˜•ì„ ì œí•œí•œë‹¤.</li>
  <li>ì½”í‹€ë¦°ì€ ì½œë¡ (:)ê³¼ ìë£Œí˜•ì„ ê¸°ì…ã…ë©´ í˜•ì‹ ë§¤ê°œë³€ìˆ˜ Tì˜ ìë£Œí˜•ì´ ê¸°ì…í•œ  ìë£Œí˜•ìœ¼ë¡œ ì œí•œëœë‹¤.</li>
</ul>

<p>ìë£Œí˜•ì„ ìˆ«ìí˜•ìœ¼ë¡œ ì œí•œí•˜ëŠ” ì˜ˆì‹œ</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nx">Calc</span><span class="o">&lt;</span><span class="nx">T</span><span class="p">:</span> <span class="nb">Number</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="nx">fun</span> <span class="nx">plus</span><span class="p">(</span><span class="na">arg1</span><span class="p">:</span> <span class="nx">T</span><span class="p">,</span> <span class="na">arg2</span><span class="p">:</span> <span class="nx">T</span><span class="p">):</span> <span class="nx">Double</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">arg1</span><span class="p">.</span><span class="nx">toDouble</span><span class="p">()</span> <span class="o">+</span> <span class="nx">arg2</span><span class="p">.</span><span class="nx">toDouble</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nx">fun</span> <span class="nx">main</span><span class="p">(</span><span class="nx">args</span><span class="p">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="nb">String</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">val</span> <span class="nx">calc</span> <span class="o">=</span> <span class="nx">Calc</span><span class="o">&lt;</span><span class="nx">Int</span><span class="o">&gt;</span><span class="p">()</span> 
    <span class="nx">println</span><span class="p">(</span><span class="nx">calc</span><span class="p">.</span><span class="nx">plus</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>

    <span class="nx">val</span> <span class="nx">calc2</span> <span class="o">=</span> <span class="nx">Calc</span><span class="o">&lt;</span><span class="nx">Double</span><span class="o">&gt;</span><span class="p">()</span> 
    <span class="nx">val</span> <span class="nx">calc3</span> <span class="o">=</span> <span class="nx">Calc</span><span class="o">&lt;</span><span class="nx">Long</span><span class="o">&gt;</span><span class="p">()</span> 
    <span class="c1">// val calc4 = Calc&lt;String&gt;()  // ì—ëŸ¬! ì œí•œëœ ìë£Œí˜•</span>

    <span class="nx">println</span><span class="p">(</span><span class="nx">calc2</span><span class="p">.</span><span class="nx">plus</span><span class="p">(</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">))</span>
    <span class="nx">println</span><span class="p">(</span><span class="nx">calc3</span><span class="p">.</span><span class="nx">plus</span><span class="p">(</span><span class="mi">5</span><span class="nx">L</span><span class="p">,</span> <span class="mi">10</span><span class="nx">L</span><span class="p">))</span>

<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="nx">fun</span> <span class="o">&lt;</span><span class="nx">T</span><span class="p">:</span> <span class="nb">Number</span><span class="o">&gt;</span> <span class="nx">addLimit</span><span class="p">(</span><span class="nx">a</span><span class="p">:</span> <span class="nx">T</span><span class="p">,</span> <span class="nx">b</span><span class="p">:</span> <span class="nx">T</span><span class="p">,</span> <span class="nx">op</span><span class="p">:</span> <span class="p">(</span><span class="nx">T</span><span class="p">,</span> <span class="nx">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nx">T</span><span class="p">):</span> <span class="nx">T</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">op</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>
<span class="p">}</span>
<span class="p">...</span>
<span class="nx">val</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">addLimit</span><span class="p">(</span><span class="dl">"</span><span class="s2">abc</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">def</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="o">-&gt;</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">})</span> <span class="c1">// ì œí•œëœ ìë£Œí˜•ìœ¼ë¡œ ì¸í•´ ì˜¤ë¥˜ ë°œìƒ!</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="ìƒã†í•˜ìœ„-í˜•ì‹ì˜-ê°€ë³€ì„±">ìƒã†í•˜ìœ„ í˜•ì‹ì˜ ê°€ë³€ì„±</h3>

<p>ê°€ë³€ì„±(variance)ì´ë€</p>
<ul>
  <li>í˜•ì‹ ë§¤ê°œë³€ìˆ˜ê°€ í´ë˜ìŠ¤ ê³„ì¸µì— ì–´ë–¤ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ”ì§€ ì •ì˜
    <ul>
      <li>í˜•ì‹ Aì˜ ê°’ì´ í•„ìš”í•œ ëª¨ë“  ì¥ì†Œì— í˜•ì‹ Bì˜ ê°’ì„ ë„£ì–´ë„ ì•„ë¬´ ë¬¸ì œê°€ ì—†ë‹¤ë©´ BëŠ” Aì˜ í•˜ìœ„ í˜•ì‹(subtype)</li>
      <li>IntëŠ” Numberì˜ í•˜ìœ„ í´ë˜ìŠ¤</li>
    </ul>
  </li>
</ul>

<p>í´ë˜ìŠ¤ì™€ ìë£Œí˜•
| í˜•íƒœ | í´ë˜ìŠ¤ì¸ê°€? | ìë£Œí˜•ì¸ê°€? |
| â€” | â€” | â€” |
| String | ë„¤ | ë„¤ |
| String? | ì•„ë‹ˆì˜¤ | ë„¤ |
| List | ë„¤ | ë„¤ |
| List<String> | ì•„ë‹ˆì˜¤ | ë„¤ |</String></p>

<p>í•˜ìœ„ í¬ë˜ìŠ¤ëŠ” ìƒìœ„ í´ë˜ìŠ¤ê°€ ìˆ˜ìš©í•œë‹¤.</p>
<ul>
  <li>í•˜ìœ„ ìë£Œí˜•ì€ ìƒìœ„ ìë£Œí˜•ìœ¼ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ í˜• ë³€í™˜ì´ ì´ë£¨ì–´ì§„ë‹¤.</li>
</ul>

<p>number &lt;- Int</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nx">val</span> <span class="nx">integer</span><span class="p">:</span> <span class="nx">Int</span> <span class="o">=</span> <span class="mi">1</span>
<span class="nx">val</span> <span class="nx">number</span><span class="p">:</span> <span class="nb">Number</span> <span class="o">=</span> <span class="nx">integer</span> <span class="c1">// í•˜ìœ„ ìë£Œí˜• Intë¥¼ Numberê°€ ìˆ˜ìš©í•¨ (ìºìŠ¤íŒ… ë˜ì–´ í• ë‹¹ ëœë‹¤.)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Int? &lt;- Int</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nx">val</span> <span class="nx">integer</span><span class="p">:</span> <span class="nx">Int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nx">val</span> <span class="nx">nullableInteger</span><span class="p">:</span> <span class="nx">Int</span><span class="p">?</span> <span class="o">-</span> <span class="nx">integer</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="ê°€ë³€ì„±ì˜-3ê°€ì§€-ìœ í˜•">ê°€ë³€ì„±ì˜ 3ê°€ì§€ ìœ í˜•</h3>
<p>| ìš©ì–´ | ì˜ë¯¸ |
| â€” | â€” |
| ê³µë³€ì„±(covariance) | Tâ€™ê°€ Tì˜ í•˜ìœ„ ìë£Œí˜•ì´ë©´, C&lt;Tâ€™&gt;ëŠ” C<T>ì˜ í•˜ìœ„ ìë£Œí˜•ì´ë‹¤. ìƒì‚°ì ì…ì¥ì˜ out ì„±ì§ˆ |
| ë°˜ê³µë³€ì„±(contravariance) | T'ê°€ Tì˜ í•˜ìœ„ ìë£Œí˜•ì´ë©´, C<T>ëŠ” C&lt;T'&gt;ì˜ í•˜ìœ„ ìë£Œí˜•ì´ë‹¤. ì†Œë¹„ì ì…ì¥ì˜ in ì„±ì§ˆ |
| ë¬´ë³€ì„±(invariance) | C&lt;T'&gt;ëŠ” C<T>ëŠ” ì•„ë¬´ ê´€ê³„ê°€ ì—†ë‹¤. ìƒì‚°ì + ì†Œë¹„ì |</T></T></T></p>

<p><img src="/assets/images/study/kotlin_oop_variance.jpg" alt="ê°€ë³€ì„±ì˜3ê°€ì§€ìœ í˜•" /></p>

<h4 id="ë¬´ë³€ì„±invariance">ë¬´ë³€ì„±(invariance)</h4>
<ul>
  <li>ìë£Œí˜• ì‚¬ì´ì˜ í•˜ìœ„ ìë£Œí˜• ê´€ê³„ê°€ ì„±ë¦½í•˜ì§€ ì•ŠìŒ</li>
  <li>ì½”í‹€ë¦°ì—ì„œëŠ” ë”°ë¡œ ì§€ì •í•´ ì£¼ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ë¬´ë³€ì„±</li>
</ul>

<p>Any &lt;- Int &lt;- Nothing</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="c1">// ë¬´ë³€ì„±(Invariance) ì„ ì–¸</span>
<span class="kd">class</span> <span class="nx">Box</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;&lt;</span><span class="nx">val</span> <span class="nx">size</span><span class="p">:</span> <span class="nx">Int</span><span class="o">&gt;</span>

<span class="nx">fun</span> <span class="nx">main</span><span class="p">(</span><span class="nx">args</span><span class="p">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="nb">String</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// val anys: Box&lt;Any&gt; = Box&lt;Int&gt;(10) // ìë£Œí˜• ë¶ˆì¼ì¹˜ ì˜¤ë¥˜</span>
    <span class="c1">// val nothings: Box&lt;Nothing&gt; = Box&lt;Int&gt;(20) // ìë£Œí˜• ë¶ˆì¼ì¹˜ ì˜¤ë¥˜</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="ê³µë³€ì„±covariance">ê³µë³€ì„±(covariance)</h4>
<ul>
  <li>í˜•ì‹ ë§¤ê°œë³€ìˆ˜ ì‚¬ì´ì˜ í•˜ìœ„ ìë£Œí˜• ê´€ê³„ê°€ ì„±ë¦½</li>
  <li>í•˜ìœ„ ìë£Œí˜• ê´€ê³„ê°€ ê·¸ë˜ë„ ì¸ìŠ¤í„´ìŠ¤ ìë£Œí˜• ì‚¬ì´ì˜ ê´€ê³„ë¡œ ì´ì–´ì§€ëŠ” ê²½ìš°</li>
  <li>out í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ ì •ì˜</li>
</ul>

<p>Any &lt;- Int &lt;- Nothing</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="c1">// ê³µë³€ì„±(Covariance) ì„ ì–¸</span>
<span class="kd">class</span> <span class="nx">Box</span><span class="o">&lt;</span><span class="nx">out</span> <span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">val</span> <span class="nx">size</span><span class="p">:</span> <span class="nx">Int</span><span class="p">)</span>

<span class="nx">fun</span> <span class="nx">main</span><span class="p">(</span><span class="nx">args</span><span class="p">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="nb">String</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">val</span> <span class="nx">anys</span><span class="p">:</span> <span class="nx">Box</span><span class="o">&lt;</span><span class="nx">Any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">Box</span><span class="o">&lt;</span><span class="nx">Int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="c1">// ê´€ê³„ ì„±ë¦½ìœ¼ë¡œ ê°ì²´ ìƒì„± ê°€ëŠ¥</span>
    <span class="c1">// val nothings: Box&lt;Nothing&gt; = Box&lt;Int&gt;(20) // ì˜¤ë¥˜! ìë£Œí˜• ë¶ˆì¼ì¹˜</span>
    <span class="nx">println</span><span class="p">(</span><span class="nx">anys</span><span class="p">.</span><span class="nx">size</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="ë°˜ê³µë³€ì„±contravariance">ë°˜ê³µë³€ì„±(contravariance)</h4>
<ul>
  <li>ìë£Œí˜•ì˜ ìƒí•˜ ê´€ê³„ê°€ ë°˜ëŒ€</li>
  <li>í•˜ìœ„ í´ë˜ìŠ¤ì˜ ìë£Œí˜•ì„ ìƒìœ„ í´ë˜ìŠ¤ì˜ ìë£Œí˜•ì´ í—ˆìš©</li>
</ul>

<p>Any &lt;- Int &lt;- Nothing</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="c1">// ë°˜ê³µë³€ì„±(Contravariance) ì„ ì–¸</span>
<span class="kd">class</span> <span class="nx">Box</span><span class="o">&lt;</span><span class="k">in</span> <span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">val</span> <span class="nx">size</span><span class="p">:</span> <span class="nx">Int</span><span class="p">)</span>

<span class="nx">fun</span> <span class="nx">main</span><span class="p">(</span><span class="nx">args</span><span class="p">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="nb">String</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// val anys: Box&lt;Any&gt; = Box&lt;Int&gt;(10) // ì˜¤ë¥˜! ìë£Œí˜• ë¶ˆì¼ì¹˜</span>
    <span class="nx">val</span> <span class="nx">nothings</span><span class="p">:</span> <span class="nx">Box</span><span class="o">&lt;</span><span class="nx">Nothing</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">Box</span><span class="o">&lt;</span><span class="nx">Int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="c1">// ê´€ê³„ ì„±ë¦½ìœ¼ë¡œ ê°ì²´ ìƒì„± ê°€ëŠ¥</span>
    <span class="nx">println</span><span class="p">(</span><span class="nx">nothings</span><span class="p">.</span><span class="nx">size</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ì—ì‹œ</p>

<p>Cat -&gt; Animal &lt;- Spider</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
</pre></td><td class="rouge-code"><pre><span class="nx">open</span> <span class="kd">class</span> <span class="nx">Animal</span><span class="p">(</span><span class="nx">val</span> <span class="nx">size</span><span class="p">:</span> <span class="nx">Int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fun</span> <span class="nx">feed</span><span class="p">()</span> <span class="o">=</span> <span class="nx">println</span><span class="p">(</span><span class="dl">"</span><span class="s2">Feeding...</span><span class="dl">"</span><span class="p">)</span>
<span class="p">}</span>
<span class="kd">class</span> <span class="nx">Cat</span><span class="p">(</span><span class="nx">val</span> <span class="nx">jump</span><span class="p">:</span> <span class="nx">Int</span><span class="p">):</span> <span class="nx">Animal</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>

<span class="kd">class</span> <span class="nx">Spider</span><span class="p">(</span><span class="nx">val</span> <span class="nx">poison</span><span class="p">:</span> <span class="nb">Boolean</span><span class="p">):</span> <span class="nx">Animal</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="kd">class</span> <span class="nx">Box1</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="c1">// ë¬´ë³€ì„±!</span>
<span class="kd">class</span> <span class="nx">Box2</span><span class="o">&lt;</span><span class="nx">out</span> <span class="nx">T</span><span class="o">&gt;</span> <span class="c1">// ê³µë³€ì„±!</span>
<span class="kd">class</span> <span class="nx">Box3</span><span class="o">&lt;</span><span class="k">in</span> <span class="nx">T</span><span class="o">&gt;</span> <span class="c1">// ë°˜ê³µë³€ì„±!</span>

<span class="kd">class</span> <span class="nx">Box4</span><span class="o">&lt;</span><span class="nx">out</span> <span class="nx">T</span><span class="p">:</span> <span class="nx">Animal</span><span class="o">&gt;</span> <span class="c1">// ê³µë³€ì„±ì— ìë£Œí˜• ì œí•œ</span>

<span class="c1">// í˜•ì‹ ë§¤ê°œë³€ìˆ˜ë¥¼ Animalë¡œ ì œí•œ</span>
<span class="kd">class</span> <span class="nx">Box5</span><span class="o">&lt;</span><span class="nx">out</span> <span class="nx">T</span><span class="p">:</span> <span class="nx">Animal</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">val</span> <span class="nx">element</span><span class="p">:</span> <span class="nx">T</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// ì£¼ ìƒì„±ìì—ì„œ valë§Œ í—ˆìš©</span>
    <span class="nx">fun</span> <span class="nx">getAnimal</span><span class="p">():</span> <span class="nx">T</span> <span class="o">=</span> <span class="nx">element</span> <span class="c1">// outì€ ë°˜í™˜ ìë£Œí˜•ì—ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ</span>
    
    
    <span class="cm">/* ì˜¤ë¥˜! TëŠ” in ìœ„ì¹˜ì— ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ 
    ì¦‰ outì´ê¸° ë•Œë¬¸ì— ë°˜í™˜ í˜•ì‹ìœ¼ë¡œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
    fun setAnimal(new: T) {
        element = new
    }
    */</span>
<span class="p">}</span>

<span class="nx">fun</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">val</span> <span class="nx">c1</span> <span class="o">=</span> <span class="nx">Cat</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    <span class="nx">val</span> <span class="nx">c2</span><span class="p">:</span> <span class="nx">Animal</span> <span class="o">=</span> <span class="nx">Cat</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    <span class="nx">val</span> <span class="nx">s1</span> <span class="o">=</span> <span class="nx">Spider</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
    <span class="nx">val</span> <span class="nx">s2</span><span class="p">:</span> <span class="nx">Animal</span> <span class="o">=</span> <span class="nx">Spider</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>

    <span class="nx">val</span> <span class="nx">a1</span> <span class="o">=</span> <span class="nx">Animal</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
    <span class="nx">val</span> <span class="nx">a2</span> <span class="o">=</span> <span class="nx">c1</span>
    <span class="nx">val</span> <span class="nx">a3</span><span class="p">:</span> <span class="nx">Animal</span> <span class="o">=</span> <span class="nx">c1</span>
    <span class="kd">var</span> <span class="nx">a3</span><span class="p">:</span> <span class="nx">Animal</span> <span class="o">=</span> <span class="nx">c1</span>
    <span class="nx">a3</span> <span class="o">=</span> <span class="nx">s1</span>

    <span class="nx">println</span><span class="p">(</span><span class="dl">"</span><span class="s2">a1 ${a1.size} ${a1.poison}</span><span class="dl">"</span><span class="p">)</span> <span class="c1">// a1 1 true</span>

    <span class="nx">val</span> <span class="nx">b1_1</span> <span class="o">=</span> <span class="nx">Box1</span><span class="o">&lt;</span><span class="nx">Animal</span><span class="o">&gt;</span><span class="p">()</span>
    <span class="nx">val</span> <span class="nx">b1_2</span><span class="p">:</span> <span class="nx">Box1</span><span class="o">&lt;</span><span class="nx">Animal</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">Box1</span><span class="o">&lt;</span><span class="nx">Animal</span><span class="o">&gt;</span>
    <span class="c1">// val b1_3: Box1&lt;Cat&gt; = Box1&lt;Animal&gt; // ì—ëŸ¬!</span>
    <span class="nx">val</span> <span class="nx">b1_4</span> <span class="o">=</span> <span class="nx">Box1</span><span class="o">&lt;</span><span class="nx">Cat</span><span class="o">&gt;</span><span class="p">()</span>
    <span class="nx">val</span> <span class="nx">b1_5</span><span class="p">:</span> <span class="nx">Box1</span><span class="o">&lt;</span><span class="nx">Cat</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">Box1</span><span class="o">&lt;</span><span class="nx">Cat</span><span class="o">&gt;</span><span class="p">()</span>
    <span class="c1">// val b1_6: Box1&lt;Animal&gt; = Box1&lt;Cat&gt;() // ì—ëŸ¬!</span>
    <span class="nx">val</span> <span class="nx">b1_7</span> <span class="o">=</span> <span class="nx">Box1</span><span class="o">&lt;</span><span class="nx">Spider</span><span class="o">&gt;</span><span class="p">()</span>

    <span class="nx">val</span> <span class="nx">b2_1</span> <span class="o">=</span> <span class="nx">Box2</span><span class="o">&lt;</span><span class="nx">Animal</span><span class="o">&gt;</span><span class="p">()</span>
    <span class="nx">val</span> <span class="nx">b2_2</span><span class="p">:</span> <span class="nx">Box2</span><span class="o">&lt;</span><span class="nx">Animal</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">Box2</span><span class="o">&lt;</span><span class="nx">Animal</span><span class="o">&gt;</span>
    <span class="c1">// val b2_3: Box2&lt;Cat&gt; = Box2&lt;Animal&gt; // ì—ëŸ¬!</span>
    <span class="nx">val</span> <span class="nx">b2_4</span> <span class="o">=</span> <span class="nx">Box2</span><span class="o">&lt;</span><span class="nx">Cat</span><span class="o">&gt;</span><span class="p">()</span>
    <span class="nx">val</span> <span class="nx">b2_5</span><span class="p">:</span> <span class="nx">Box2</span><span class="o">&lt;</span><span class="nx">Cat</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">Box2</span><span class="o">&lt;</span><span class="nx">Cat</span><span class="o">&gt;</span><span class="p">()</span>
    <span class="nx">val</span> <span class="nx">b2_6</span><span class="p">:</span> <span class="nx">Box2</span><span class="o">&lt;</span><span class="nx">Animal</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">Box2</span><span class="o">&lt;</span><span class="nx">Cat</span><span class="o">&gt;</span><span class="p">()</span> <span class="c1">// ê³µë³€ì„±ìœ¼ë¡œ ê°€ëŠ¥!</span>
    <span class="nx">val</span> <span class="nx">b2_7</span> <span class="o">=</span> <span class="nx">Box2</span><span class="o">&lt;</span><span class="nx">Spider</span><span class="o">&gt;</span><span class="p">()</span>
    <span class="nx">val</span> <span class="nx">b2_8</span> <span class="o">=</span> <span class="nx">Box2</span><span class="o">&lt;</span><span class="nx">Int</span><span class="o">&gt;</span><span class="p">()</span> <span class="c1">// ìë£Œí˜•ì´ ì œí•œë˜ì–´ ìˆì§€ ì•Šìœ¼ë¯€ë¡œ ì–´ë–¤ í˜•ì´ë“  ê°€ëŠ¥!</span>
    <span class="nx">val</span> <span class="nx">b2_9</span><span class="p">:</span> <span class="nx">Box2</span><span class="o">&lt;</span><span class="nb">Number</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">Box2</span><span class="o">&lt;</span><span class="nx">Int</span><span class="o">&gt;</span><span class="p">()</span> <span class="c1">// ìƒìœ„ ìë£Œí˜•ì´ë¯€ë¡œ ê°€ëŠ¥!</span>

    <span class="nx">val</span> <span class="nx">b3_1</span> <span class="o">=</span> <span class="nx">Box3</span><span class="o">&lt;</span><span class="nx">Animal</span><span class="o">&gt;</span><span class="p">()</span>
    <span class="nx">val</span> <span class="nx">b3_2</span><span class="p">:</span> <span class="nx">Box3</span><span class="o">&lt;</span><span class="nx">Animal</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">Box3</span><span class="o">&lt;</span><span class="nx">Animal</span><span class="o">&gt;</span>
    <span class="nx">val</span> <span class="nx">b3_3</span><span class="p">:</span> <span class="nx">Box3</span><span class="o">&lt;</span><span class="nx">Cat</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">Box3</span><span class="o">&lt;</span><span class="nx">Animal</span><span class="o">&gt;</span> <span class="c1">// ë°˜ê³µë³€ì„±ìœ¼ë¡œ ê°€ëŠ¥</span>
    <span class="nx">val</span> <span class="nx">b3_4</span> <span class="o">=</span> <span class="nx">Box3</span><span class="o">&lt;</span><span class="nx">Cat</span><span class="o">&gt;</span><span class="p">()</span>
    <span class="nx">val</span> <span class="nx">b3_5</span><span class="p">:</span> <span class="nx">Box3</span><span class="o">&lt;</span><span class="nx">Cat</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">Box3</span><span class="o">&lt;</span><span class="nx">Cat</span><span class="o">&gt;</span><span class="p">()</span>
    <span class="c1">// val b3_6: Box3&lt;Animal&gt; = Box3&lt;Cat&gt;() // ì—ëŸ¬!</span>
    <span class="nx">val</span> <span class="nx">b3_7</span> <span class="o">=</span> <span class="nx">Box3</span><span class="o">&lt;</span><span class="nx">Spider</span><span class="o">&gt;</span><span class="p">()</span>

    <span class="nx">val</span> <span class="nx">b4_1</span> <span class="o">=</span> <span class="nx">Box4</span><span class="o">&lt;</span><span class="nx">Animal</span><span class="o">&gt;</span><span class="p">()</span>
    <span class="nx">val</span> <span class="mi">4</span><span class="nx">_2</span><span class="p">:</span> <span class="nx">Box4</span><span class="o">&lt;</span><span class="nx">Animal</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">Box4</span><span class="o">&lt;</span><span class="nx">Animal</span><span class="o">&gt;</span>
    <span class="c1">// val b4_3: Box4&lt;Cat&gt; = Box4&lt;Animal&gt; // ì—ëŸ¬!</span>
    <span class="nx">val</span> <span class="nx">b4_4</span> <span class="o">=</span> <span class="nx">Box4</span><span class="o">&lt;</span><span class="nx">Cat</span><span class="o">&gt;</span><span class="p">()</span>
    <span class="nx">val</span> <span class="nx">b4_5</span><span class="p">:</span> <span class="nx">Box4</span><span class="o">&lt;</span><span class="nx">Cat</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">Box4</span><span class="o">&lt;</span><span class="nx">Cat</span><span class="o">&gt;</span><span class="p">()</span>
    <span class="nx">val</span> <span class="nx">b4_6</span><span class="p">:</span> <span class="nx">Box4</span><span class="o">&lt;</span><span class="nx">Animal</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">Box4</span><span class="o">&lt;</span><span class="nx">Cat</span><span class="o">&gt;</span><span class="p">()</span> <span class="c1">// ê³µë³€ì„±ìœ¼ë¡œ ê°€ëŠ¥!</span>
    <span class="nx">val</span> <span class="nx">b4_7</span> <span class="o">=</span> <span class="nx">Box4</span><span class="o">&lt;</span><span class="nx">Spider</span><span class="o">&gt;</span><span class="p">()</span>
    <span class="c1">// val b4_8 = Box4&lt;Int&gt;() // ìë£Œí˜•ì´ ì œí•œë˜ì–´ì„œ ë¶ˆê°€ëŠ¥!</span>
    <span class="c1">// val b4_9: Box4&lt;Number&gt; = Box4&lt;Int&gt;() // ìë£Œí˜• ì œí•œìœ¼ë¡œ ë¶ˆê°€ëŠ¥!</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
:ET